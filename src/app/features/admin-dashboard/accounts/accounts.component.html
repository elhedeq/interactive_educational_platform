<div class="wrapper">
    <div class="new-user p-5 border rounded-2">
        <h3 class="text-capitalize">add new user</h3>
        <form>
            <div class="row">
                <div class="form-group col-sm">
                    <label class="text-capitalize" for="first_name">first name</label>
                    <input type="text" placeholder="first_name" name="first_name" class="form-control" [(ngModel)]="newUser.first_name">
                </div>
                <div class="form-group col-sm">
                    <label class="text-capitalize" for="last_name">last name</label>
                    <input type="text" placeholder="last_name" name="last_name" class="form-control" [(ngModel)]="newUser.last_name">
                </div>
                <div class="form-group col-sm">
                    <label class="text-capitalize" for="email">email</label>
                    <input type="email" placeholder="email@example.com" name="email" class="form-control" [(ngModel)]="newUser.email">
                </div>
            </div>
            <div class="row">
                <div class="form-group">
                    <label class="text-capitalize" for="bio">bio</label>
                    <textarea type="text" placeholder="bio" name="bio" class="form-control" [(ngModel)]="newUser.bio"></textarea>
                </div>
            </div>
            <div class="row">
                <div class="form-group col-sm-9">
                    <label class="text-capitalize" for="password">password</label>
                    <input type="password" name="password" class="form-control" [(ngModel)]="newUser.password">
                </div>
                <div class="form-group col-sm-3">
                    <label class="text-capitalize" for="credential">credential</label>
                    <select name="credential" id="credential" class="form-select" [(ngModel)]="newUser.credential">
                        <option [ngValue]="null" disabled selected>Credential</option>
                        <option *ngFor="let c of credential_levels" [value]="c">{{ c!=0?c==2?'admin':'instructor':'student' }}</option>
                    </select>
                </div>
            </div>
            <button type="submit" class="btn btn-primary text-capitalize m-2" (click)="addUser()">add user</button>
        </form>
    </div>
    <table class="table table-striped table-hover">
    <thead>
        <tr>
            <th scope="col" class="text-capitalize">#</th>
            <th scope="col" class="text-capitalize">first name</th>
            <th scope="col" class="text-capitalize">last name</th>
            <th scope="col" class="text-capitalize">email</th>
            <th scope="col" class="text-capitalize">bio</th>
            <th scope="col" class="text-capitalize">credential</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let user of users; let i = index">
            <th scope="row">
                {{ i+1 }}
            </th>
            <td>
                <input type="text" class="names form-control" [name]="'first_name_'+i" [(ngModel)]="user.first_name">
            </td>
            <td>
                <input type="text" class="names form-control" [name]="'last_name_'+i" [(ngModel)]="user.last_name">
            </td>
            <td>
                <input type="email" class="form-control" [name]="'first_name_'+i" [(ngModel)]="user.email">
            </td>
            <td>
                <textarea type="text" class="form-control" [name]="'bio_'+i" [(ngModel)]="user.bio"></textarea>
            </td>
            <td>
                <select [name]="'credential_'+i" class="form-select" [(ngModel)]="user.credential">
                    <option [ngValue]="null" disabled selected>Credential</option>
                    <option *ngFor="let c of credential_levels" [value]="c">{{ c!=0?c==2?'admin':'instructor':'student' }}</option>
                </select>
            </td>
            <td class="d-flex flex-column gap-2 align-items-center">
                <button class="btn btn-warning" type="submit" (click)="updateUser(i)">save</button>
                <button class="btn btn-danger" type="submit" (click)="deleteUser(i)">delete </button>
            </td>
        </tr>
    </tbody>
    </table>
</div>
